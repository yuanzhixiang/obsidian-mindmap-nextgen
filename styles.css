
/* General */

:root {
    --mm-color-text: #fff;
}

[hidden] {
    display: none !important;
}

.mmng-coloring-approach-description {
    border-top: none;
    padding-top: 0;
}

.mmng-coloring-approach-description .setting-item-description { padding-top: 0 }


/* Mindmaps */

.markmap {
    width: 100%;
    height: 100%;
    display: block;
}

.katex-html { display: none }

.workspace-leaf-content[data-type="mindmap-nextgen-plugin"] .view-content {
    padding: 0
}


/* Code blocks inside mindmaps */

/* Remove markmap's code block style */
.markmap-foreign.markmap-foreign code {
    color: inherit;
    background-color: inherit;
}

/* Hide language tag shown by some themes */
.markmap-foreign pre[class*='language-']::after {
    display: none;
}


/* Inline mindmaps */

.block-language-markmap { border-radius: 5px }
.block-language-markmap svg { border-radius: 5px }

.block-language-markmap { letter-spacing: normal }

.mmng-highlight-inline .block-language-markmap {
    background-color: var(--code-background);
    padding: 3px;
}

.markdown-source-view.mod-cm6 .cm-embed-block:has(.block-language-markmap):hover {
    box-shadow: none;
    cursor: auto;
}

.block-language-markmap .workspace-leaf-resize-handle {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin: 0;
    padding: 0;
    display: block !important;
    
    /* 彻底重置原生 <hr> 的双重边框 */
    border: none;
    background: transparent;
    
    /* 恢复成经典的横宽细线 */
    border-bottom: 1px solid var(--background-modifier-border);
    
    height: 10px; /* 稍微加大可拖拽区域，提升命中率 */
    width: 100%;
    cursor: row-resize;
    z-index: 10;
    transition: border-bottom-color 0.2s ease, border-bottom-width 0.2s ease;
}

.block-language-markmap .workspace-leaf-resize-handle:hover {
    border-bottom: 3px solid var(--interactive-accent);
}

/* Avoid relying on volatile Obsidian workspace DOM chains for visibility. */

/* keep resize handle inside block in reading mode */
.block-language-markmap { position: relative }

/* 横向滚动区域：保留滑动能力，但隐藏由于内容超出而产生的原生滚动条UI */
.mmng-mobile-horizontal-scroll {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    /* 隐藏 Firefox & IE 的滚动条 */
    scrollbar-width: none;
    -ms-overflow-style: none;
}
/* 隐藏 Chrome, Safari 的滚动条 */
.mmng-mobile-horizontal-scroll::-webkit-scrollbar {
    display: none;
}

.mmng-mobile-horizontal-scroll > svg,
.mmng-mobile-horizontal-scroll svg.markmap {
    max-width: none !important;
    min-width: 100%;
}

.block-language-markmap.mmng-mobile-horizontal-scroll .workspace-leaf-resize-handle {
    /* 滚动条隐藏后，拖拽线可以名正言顺地平铺在最底部，再也不需要被挤压抬高了 */
    bottom: 0;
}



/* reset button style: begin */
.markdown-source-view.mod-cm6 .edit-block-button.codeblock-settings-button {
    --reset-button-style: true;
    box-shadow: none;
    background-color: inherit;
    height: inherit;
}
/* reset button style: end */

.markdown-source-view.mod-cm6 .edit-block-button.codeblock-settings-button {
    --icon-width: 18px;
    --padding-width: calc(var(--size-2-3) * 2);
    --margin-width: var(--size-2-2);
    right: calc(var(--icon-width) + var(--padding-width) + var(--margin-width));
}

.mmng-settings-modal .modal {
    padding: 0
}

.mmng-settings-modal .modal-content {
    overflow-y: auto;
}

.mmng-settings-modal .modal {
    height: var(--dialog-max-height)
}

.mmng-settings-modal .modal-content :first-child { border-top: 0 }

.modal-close-button { z-index: 2 }

.mmng-settings-tab {
    padding: 0
}
.mmng-level-selector {
    position: sticky;
    top: 0;
    background-color: var(--background-primary);
    z-index: 1;

    padding-top: var(--size-4-8);
    padding-left: var(--size-4-12);
    padding-right: var(--size-4-12);
}

.mmng-level-selector button.mmng-active {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.mmng-level-selector .setting-item {
    border-bottom: 1px solid var(--background-modifier-border);
}

.mmng-main {
    padding-left: var(--size-4-12);
    padding-right: var(--size-4-12);
    padding-bottom: var(--size-4-16);
}

.mmng-main .setting-item:first-child {
    padding-top: 0.75em
}

/* ========================================================== */
/* Specific fixes for the Edit block settings Modal spacing   */
/* ========================================================== */

.mmng-settings-modal .modal-content .mmng-level-selector {
    /* Prevent top sticking, remove massive blank spaces */
    padding-top: 18px !important;
    /* Create a compact distance below buttons */
    padding-bottom: 12px !important;
    
    /* Horizontal alignment consistency */
    padding-left: 24px !important;
    padding-right: 24px !important;
    
    /* Move border here */
    border-bottom: 1px solid var(--background-modifier-border) !important;
}

.mmng-settings-modal .modal-content .mmng-level-selector .setting-item {
    /* Clear inner setting-item margin/padding/border to avoid double gap */
    border: none !important;
    padding: 0 !important;
    margin: 0 !important;
}

.mmng-settings-modal .modal-content .mmng-main {
    /* Align horizontally with header */
    padding-left: 24px !important;
    padding-right: 24px !important;
    padding-bottom: 24px !important;
}

.mmng-settings-modal .modal-content .mmng-main > .setting-item:first-child {
    /* Exactly 12px gap below header border */
    padding-top: 12px !important;
    border-top: none !important;
}

.setting-item.mmng-faded {
    opacity: 40%
}

.setting-item-info.mmng-reset {
    flex: none;
}

.mmng-settings-level-explanation {
    padding-top: var(--size-4-16);
    padding-left: var(--size-4-8);
    padding-right: var(--size-4-8);
}
.mmng-settings-level-explanation .clickable-icon { display: inline-block }

/* Toolbars */

.mm-toolbar {
  position: absolute;
  bottom: 20px;
  left: 20px;
}
